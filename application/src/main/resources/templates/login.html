<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>登录</title>
    <link id="favicon" rel="icon" type="image/x-icon" href="./pic/favicon.ico">
    <link rel="stylesheet" href="./css/styles.css">
</head>
<body>
<div class="charm-root">
    <div class="charm-body">
        <div class="charm-body-info">
            <div class="info-logo">
                <a th:href="@{/login}">
                    <img alt="PCode" src="./pic/logo.PNG"></a>
            </div>
            <div class="info-image">
                <img src="./pic/pingcode-intro-01.png">
            </div>
            <div class="info-message">
                <p class="message-item">
                    <div class="icon thy-icon-phone thy-icon">
                        <svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fit=""
                             height="1em" width="1em" preserveAspectRatio="xMidYMid meet" focusable="false">
                            <g id="kynormal/phone" stroke-width="1" fill-rule="evenodd">
                                <path d="M2.948.755l-.428.274C.515 2.268 1.313 6.648 3.997 10.577c2.606 3.815 6.326 6.24 8.322 5.21l.648-.379c.807-.482 1.233-.88 1.477-1.466.36-.865.093-1.788-.712-2.73-1.228-1.436-2.316-1.865-3.55-1.304l-.112.053a5.415 5.415 0 0 0-.375.208l-.231.143-.068-.05a3.333 3.333 0 0 1-.28-.25c-.404-.395-.909-1.024-1.445-1.809-.527-.771-.923-1.459-1.142-1.966l-.051-.125-.054-.147-.027-.084.185-.114c1.496-.94 1.688-2.128.665-4.048C6.775.832 6.18.275 5.447.089L5.275.053c-.75-.128-1.367.082-2.327.702zm2.127.48c.395.069.764.392 1.113 1.048.716 1.344.675 1.85-.136 2.397l-.303.192-.233.143c-.772.475-.261 1.74 1.019 3.65l.145.215c1.38 2.018 2.437 3.056 3.226 2.57l.413-.256.196-.112c.058-.031.112-.058.163-.081.665-.303 1.225-.081 2.143.992.538.63.676 1.104.516 1.487-.112.268-.33.488-.814.794l-.702.417c-1.199.74-4.494-1.365-6.833-4.79-2.34-3.426-3.014-7.124-1.83-7.855l.442-.284c.73-.471 1.086-.592 1.475-.526z"
                                      id="ky路径"></path>
                            </g>
                        </svg>
                    </div>
                    <span>000-000-0000</span>
                </p>
                <p class="message-item">
                    <div class="icon thy-icon-email thy-icon">
                        <svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fit=""
                             height="1em" width="1em" preserveAspectRatio="xMidYMid meet" focusable="false">
                            <g id="ggnormal/email" stroke-width="1" fill-rule="evenodd">
                                <path d="M14 2a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h12zM1.199 6.352L1.2 12a.8.8 0 0 0 .7.794l.1.006h12a.8.8 0 0 0 .794-.7l.006-.1V6.38L7.999 9.014l-6.8-2.662zM14 3.2H2a.8.8 0 0 0-.794.7L1.2 4l-.001 1.11.016-.04L8 7.726l6.8-2.633V4a.8.8 0 0 0-.7-.794L14 3.2z"
                                      id="gg形状结合"></path>
                            </g>
                        </svg>
                    </div>
                    <span>xxxx@xxxx.com</span>
                </p>
            </div>
        </div>
        <div class="charm-body-mobile">
            <a th:href="@{/login}">
                <img alt="" src="./pic/logo.png">
            </a>
        </div>
        <div class="charm-body-content">
            <div></div>
            <div>
                <div class="charm-body-content-main">
                    <div class="charm-form-container">
                        <div class="form-container-header">
                            <div class="form-container-header-title">
                                <span>登录</span>
                            </div>
                        </div>
                        <div class="form-container-body">
                                <form class="thy-form thy-form-vertical ng-pristine ng-invalid ng-touched">
                                    <div>
                                        <div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">手机号/邮箱</label>
                                        <div class="position-relative">
                                            <input name="account" required="" thyautofocus=""
                                                   thyinput="" autocomplete="off"
                                                   placeholder="请输入手机号/邮箱"
                                                   class="ng-pristine form-control ng-invalid ng-touched">
                                        </div>
                                    </div>
                                    <div thylabeltext="登录密码" class="form-group">
                                        <label class="form-label">登录密码</label>
                                        <div class="position-relative">
                                            <div class="thy-input form-control ng-untouched ng-pristine ng-invalid">
                                                <span class="input-label input-label-"></span>
                                                <input thyinput=""
                                                       name="password"
                                                       autocomplete="off"
                                                       type="password"
                                                       placeholder="请输入登录密码"
                                                       class="ng-untouched ng-pristine ng-valid form-control">
                                                <div class="input-append">
                                                    <a class="link-secondary input-password-icon" href="javascript:;">
                                                    <div thyiconname="eye" class="thy-icon-eye thy-icon">
                                                        <svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fit="" height="1em" width="1em"
                                                             preserveAspectRatio="xMidYMid meet" focusable="false">
                                                            <g id="gsnormal/eye" stroke-width="1" fill-rule="evenodd">
                                                                <path d="M8 3.4c2.823 0 5.04 1.367 7.38 3.637a2.037 2.037 0 0 1 0 2.925C13.04 12.232 10.824 13.6 8 13.6c-2.823 0-5.032-1.364-7.376-3.637a2.037 2.037 0 0 1 0-2.925C2.967 4.764 5.176 3.4 8 3.4zm0 1.2c-2.417 0-4.405 1.228-6.542 3.3a.837.837 0 0 0 0 1.2C3.596 11.173 5.584 12.4 8 12.4s4.413-1.231 6.546-3.3a.837.837 0 0 0 0-1.2C12.412 5.83 10.415 4.6 8 4.6zM8 11a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5zm0-1.2a1.3 1.3 0 1 0 0-2.6 1.3 1.3 0 0 0 0 2.6z"
                                                                      id="gs形状结合"></path>
                                                            </g>
                                                        </svg>
                                                    </div>
                                                    <!---->
                                                </a></div>
                                                <!---->
                                            </div>
                                            <!---->
                                            <!---->
                                            <!---->
                                            <!---->
                                        </div>
                                        <!---->
                                        <!---->
                                    </div>
                                    <div class="form-group">
                                        <div class="form-group-footer form-group-footer-align-right">
                                            <div class="btn-pair form-footer-actions">
                                                <input type="button" class="btn btn-primary btn-square" id="login" value="登录"/>
                                                <div class="form-footer-links">
                                                   <span>
                                                       或者
                                                       <a href="">创建团队</a>
                                                   </span>
                                                    <span>
                                                        <a th:href="@{/forget}">忘记密码？</a>
                                                    </span>
                                                </div>
                                            </div>
                                            <!---->
                                        </div>
                                    </div>
                                </form>
                            <!---->
                            <!---->
                            <!---->
                        </div>
                    </div>
                    <!---->
                    <!---->
                </div>
                <!---->
            </div>
        </div>
        <div class="charm-body-footer">© PCode</div>
    </div>
</div>
<script src="../js/jquery-3.5.1.min.js" type="text/javascript"></script>
<script type="application/javascript" th:inline="javascript">
    var basePath = [[${#httpServletRequest.getScheme() + "://" + #httpServletRequest.getServerName() + ":" + #httpServletRequest.getServerPort() + #httpServletRequest.getContextPath()}]];
    $("#login").click(function () {
        var account = $("input[name='account']").val();
        var password = $("input[name='password']").val();
        $.ajax({
            url: basePath + "/serviceLogin",
            data: {"userName": account, "passWord": password},
            dataType: "json",
            cache: false,
            async:false,
            type:"POST",
            success: function (result) {
                if (result.retCode=="000000") {
                    window.location.href = basePath + "/workspace";
                }else {
                    window.alert("账号或密码错误");
                }
            }
        });
    });
</script>

</body>
</html>
